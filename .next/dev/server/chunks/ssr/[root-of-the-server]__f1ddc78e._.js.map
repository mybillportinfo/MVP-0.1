{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport Link from \"next/link\";\nimport { useRouter } from 'next/navigation';\nimport { Home, Plus, Settings, Zap, Wifi, CreditCard, Phone, MoreHorizontal, Loader2, Trash2 } from \"lucide-react\";\nimport { useAuth } from '../contexts/AuthContext';\nimport { fetchBills, deleteBill, Bill } from '../lib/firebase';\n\nexport default function Dashboard() {\n  const { user, loading: authLoading } = useAuth();\n  const router = useRouter();\n  const [bills, setBills] = useState<Bill[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login');\n    }\n  }, [user, authLoading, router]);\n\n  useEffect(() => {\n    if (user) {\n      loadBills();\n    }\n  }, [user]);\n\n  const loadBills = async () => {\n    if (!user) return;\n    setLoading(true);\n    setError(null);\n    try {\n      const userBills = await fetchBills(user.uid);\n      setBills(userBills);\n    } catch (err) {\n      console.error('Failed to fetch bills:', err);\n      setError('Failed to load bills');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteBill = async (billId: string) => {\n    try {\n      await deleteBill(billId);\n      setBills(bills.filter(b => b.id !== billId));\n    } catch (err) {\n      console.error('Failed to delete bill:', err);\n    }\n  };\n\n  const getIcon = (type: string) => {\n    switch (type) {\n      case \"hydro\": return <Zap className=\"w-5 h-5 text-yellow-600\" />;\n      case \"internet\": return <Wifi className=\"w-5 h-5 text-blue-600\" />;\n      case \"subscription\": return <CreditCard className=\"w-5 h-5 text-purple-600\" />;\n      case \"phone\": return <Phone className=\"w-5 h-5 text-green-600\" />;\n      default: return <MoreHorizontal className=\"w-5 h-5 text-gray-600\" />;\n    }\n  };\n\n  const getIconBg = (type: string) => {\n    switch (type) {\n      case \"hydro\": return \"bg-yellow-100\";\n      case \"internet\": return \"bg-blue-100\";\n      case \"subscription\": return \"bg-purple-100\";\n      case \"phone\": return \"bg-green-100\";\n      default: return \"bg-gray-100\";\n    }\n  };\n\n  const getDaysUntilDue = (dueDate: Date) => {\n    const now = new Date();\n    const due = new Date(dueDate);\n    const diffTime = due.getTime() - now.getTime();\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  };\n\n  const getStatusStyle = (daysUntil: number) => {\n    if (daysUntil < 0) return \"text-red-500\";\n    if (daysUntil <= 3) return \"text-amber-500\";\n    return \"text-teal-600\";\n  };\n\n  if (authLoading || (!user && !authLoading)) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-slate-900 via-slate-900 to-slate-800 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 text-teal-500 animate-spin\" />\n      </div>\n    );\n  }\n\n  const dueSoonCount = bills.filter(b => {\n    const days = getDaysUntilDue(b.dueDate);\n    return days >= 0 && days <= 3;\n  }).length;\n  \n  const overdueCount = bills.filter(b => getDaysUntilDue(b.dueDate) < 0).length;\n\n  const greeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return \"Good morning\";\n    if (hour < 18) return \"Good afternoon\";\n    return \"Good evening\";\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-900 via-slate-900 to-slate-800 pb-24\">\n      {/* Header */}\n      <div className=\"px-5 pt-12 pb-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <div className=\"w-10 h-10 gradient-navy rounded-xl flex items-center justify-center border border-slate-600\">\n            <span className=\"text-white font-bold\">M</span>\n          </div>\n          <span className=\"text-white font-semibold text-lg\">MyBillPort</span>\n        </div>\n        <p className=\"text-slate-400\">{greeting()}</p>\n        <p className=\"text-white text-2xl font-semibold\">Here&apos;s your overview</p>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"px-4 grid grid-cols-3 gap-3 mb-6\">\n        <div className=\"summary-card text-center\">\n          <p className=\"text-2xl font-bold text-white\">{bills.length}</p>\n          <p className=\"text-xs text-slate-400\">Total Bills</p>\n        </div>\n        <div className=\"summary-card text-center\">\n          <p className=\"text-2xl font-bold text-amber-400\">{dueSoonCount}</p>\n          <p className=\"text-xs text-slate-400\">Due Soon</p>\n        </div>\n        <div className=\"summary-card text-center\">\n          <p className=\"text-2xl font-bold text-red-400\">{overdueCount}</p>\n          <p className=\"text-xs text-slate-400\">Overdue</p>\n        </div>\n      </div>\n\n      {/* Bills List */}\n      <div className=\"px-4 space-y-3\">\n        <h2 className=\"text-white font-semibold mb-2\">Your Bills</h2>\n        \n        {loading ? (\n          <div className=\"flex justify-center py-8\">\n            <Loader2 className=\"w-6 h-6 text-teal-500 animate-spin\" />\n          </div>\n        ) : error ? (\n          <div className=\"bg-red-500/10 border border-red-500/30 text-red-400 px-4 py-3 rounded-lg text-sm\">\n            {error}\n          </div>\n        ) : bills.length === 0 ? (\n          <div className=\"bg-slate-800/50 rounded-xl p-8 text-center border border-slate-700\">\n            <p className=\"text-slate-400 mb-4\">No bills yet</p>\n            <Link href=\"/add-bill\" className=\"btn-accent px-6 py-2 rounded-lg inline-block\">\n              Add Your First Bill\n            </Link>\n          </div>\n        ) : (\n          bills.map((bill) => {\n            const daysUntil = getDaysUntilDue(bill.dueDate);\n            return (\n              <div key={bill.id} className=\"bg-white rounded-xl p-4 flex items-center gap-4\">\n                <div className={`w-12 h-12 ${getIconBg(bill.billType)} rounded-lg flex items-center justify-center`}>\n                  {getIcon(bill.billType)}\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"font-medium text-slate-800\">{bill.providerName}</p>\n                  <p className={`text-sm ${getStatusStyle(daysUntil)}`}>\n                    {daysUntil < 0 \n                      ? `${Math.abs(daysUntil)} days overdue`\n                      : daysUntil === 0 \n                        ? \"Due today\"\n                        : `Due in ${daysUntil} days`\n                    }\n                  </p>\n                </div>\n                <p className=\"font-semibold text-slate-800\">${bill.amount.toFixed(2)}</p>\n                <button \n                  onClick={() => bill.id && handleDeleteBill(bill.id)}\n                  className=\"p-2 text-slate-400 hover:text-red-500 transition-colors\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n            );\n          })\n        )}\n      </div>\n\n      {/* Bottom Navigation */}\n      <nav className=\"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur border-t border-slate-700 py-3 px-6\">\n        <div className=\"max-w-md mx-auto flex justify-around\">\n          <Link href=\"/app\" className=\"nav-item nav-item-active\">\n            <Home className=\"w-6 h-6\" />\n            <span className=\"text-xs\">Home</span>\n          </Link>\n          <Link href=\"/add-bill\" className=\"nav-item\">\n            <Plus className=\"w-6 h-6\" />\n            <span className=\"text-xs\">Add Bill</span>\n          </Link>\n          <Link href=\"/settings\" className=\"nav-item\">\n            <Settings className=\"w-6 h-6\" />\n            <span className=\"text-xs\">Settings</span>\n          </Link>\n        </div>\n      </nav>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}