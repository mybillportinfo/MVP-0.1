{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/add-bill/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from \"next/link\";\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft, Home, Plus, Settings, Zap, Wifi, Phone, CreditCard, FileText, Loader2 } from \"lucide-react\";\nimport { useAuth } from '../contexts/AuthContext';\nimport { addBill } from '../lib/firebase';\n\nconst billCategories = [\n  { id: \"hydro\", label: \"Hydro\", icon: Zap, color: \"bg-yellow-100 text-yellow-600\" },\n  { id: \"internet\", label: \"Internet\", icon: Wifi, color: \"bg-blue-100 text-blue-600\" },\n  { id: \"phone\", label: \"Phone\", icon: Phone, color: \"bg-green-100 text-green-600\" },\n  { id: \"subscription\", label: \"Subscription\", icon: CreditCard, color: \"bg-purple-100 text-purple-600\" },\n  { id: \"other\", label: \"Other\", icon: FileText, color: \"bg-slate-100 text-slate-600\" },\n];\n\nexport default function AddBillPage() {\n  const { user, loading: authLoading } = useAuth();\n  const router = useRouter();\n  const [providerName, setProviderName] = useState('');\n  const [billType, setBillType] = useState('other');\n  const [amount, setAmount] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  useEffect(() => {\n    if (!authLoading && !user) {\n      router.push('/login');\n    }\n  }, [user, authLoading, router]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    \n    if (!user) {\n      setError('You must be logged in');\n      return;\n    }\n    \n    if (!providerName.trim()) {\n      setError('Please enter a bill name');\n      return;\n    }\n    \n    if (!amount || parseFloat(amount) <= 0) {\n      setError('Please enter a valid amount');\n      return;\n    }\n    \n    if (!dueDate) {\n      setError('Please select a due date');\n      return;\n    }\n    \n    setIsSubmitting(true);\n    \n    try {\n      await addBill(user.uid, {\n        providerName: providerName.trim(),\n        billType,\n        amount: parseFloat(amount),\n        dueDate: new Date(dueDate),\n      });\n      \n      setSuccess(true);\n      setTimeout(() => {\n        router.push('/app');\n      }, 1000);\n    } catch (err) {\n      console.error('Failed to add bill:', err);\n      setError('Failed to add bill. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-slate-900 via-slate-900 to-slate-800 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 text-teal-500 animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-slate-900 via-slate-900 to-slate-800 pb-24\">\n      {/* Header */}\n      <div className=\"px-5 pt-12 pb-6\">\n        <Link href=\"/app\" className=\"flex items-center text-slate-400 hover:text-white mb-4 transition-colors\">\n          <ArrowLeft className=\"w-5 h-5 mr-2\" />\n          Back to Dashboard\n        </Link>\n        <h1 className=\"text-white text-2xl font-semibold\">Add New Bill</h1>\n        <p className=\"text-slate-400\">Track a new recurring bill</p>\n      </div>\n\n      {/* Form */}\n      <div className=\"px-4\">\n        {success ? (\n          <div className=\"bg-teal-500/10 border border-teal-500/30 text-teal-400 px-4 py-6 rounded-xl text-center\">\n            <p className=\"text-lg font-semibold\">Bill added successfully!</p>\n            <p className=\"text-sm mt-1\">Redirecting to dashboard...</p>\n          </div>\n        ) : (\n          <form onSubmit={handleSubmit} className=\"bg-white rounded-xl p-6 space-y-5\">\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm\">\n                {error}\n              </div>\n            )}\n            \n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-1\">Bill Name</label>\n              <input \n                type=\"text\"\n                value={providerName}\n                onChange={(e) => setProviderName(e.target.value)}\n                placeholder=\"e.g., Toronto Hydro\"\n                className=\"w-full px-4 py-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 text-slate-800\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-2\">Category</label>\n              <div className=\"grid grid-cols-3 gap-2\">\n                {billCategories.map((cat) => {\n                  const Icon = cat.icon;\n                  const isSelected = billType === cat.id;\n                  return (\n                    <button\n                      key={cat.id}\n                      type=\"button\"\n                      onClick={() => setBillType(cat.id)}\n                      className={`p-3 rounded-xl flex flex-col items-center transition-all ${\n                        isSelected \n                          ? \"bg-slate-100 border-2 border-teal-500\" \n                          : \"bg-slate-50 border-2 border-transparent hover:border-slate-200\"\n                      }`}\n                    >\n                      <div className={`w-10 h-10 rounded-lg flex items-center justify-center mb-1.5 ${cat.color}`}>\n                        <Icon className=\"w-5 h-5\" />\n                      </div>\n                      <span className={`text-xs font-medium ${isSelected ? \"text-teal-600\" : \"text-slate-600\"}`}>\n                        {cat.label}\n                      </span>\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-1\">Amount (CAD)</label>\n              <input \n                type=\"number\" \n                value={amount}\n                onChange={(e) => setAmount(e.target.value)}\n                placeholder=\"0.00\"\n                step=\"0.01\"\n                min=\"0\"\n                className=\"w-full px-4 py-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 text-slate-800\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-slate-700 mb-1\">Due Date</label>\n              <input \n                type=\"date\"\n                value={dueDate}\n                onChange={(e) => setDueDate(e.target.value)}\n                className=\"w-full px-4 py-3 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 text-slate-800\"\n              />\n            </div>\n\n            <button \n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"w-full btn-accent py-3 rounded-lg font-semibold mt-4 flex items-center justify-center gap-2 disabled:opacity-50\"\n            >\n              {isSubmitting ? (\n                <>\n                  <Loader2 className=\"w-5 h-5 animate-spin\" />\n                  Adding...\n                </>\n              ) : (\n                'Add Bill'\n              )}\n            </button>\n          </form>\n        )}\n      </div>\n\n      {/* Bottom Navigation */}\n      <nav className=\"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur border-t border-slate-700 py-3 px-6\">\n        <div className=\"max-w-md mx-auto flex justify-around\">\n          <Link href=\"/app\" className=\"nav-item\">\n            <Home className=\"w-6 h-6\" />\n            <span className=\"text-xs\">Home</span>\n          </Link>\n          <Link href=\"/add-bill\" className=\"nav-item nav-item-active\">\n            <Plus className=\"w-6 h-6\" />\n            <span className=\"text-xs\">Add Bill</span>\n          </Link>\n          <Link href=\"/settings\" className=\"nav-item\">\n            <Settings className=\"w-6 h-6\" />\n            <span className=\"text-xs\">Settings</span>\n          </Link>\n        </div>\n      </nav>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}